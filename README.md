# 关于压力我想说的话
![image](https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1578166568957&di=ab5bd6de3820e0c9cf2c014d98c140b2&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fq_70%2Cc_zoom%2Cw_640%2Fimages%2F20181128%2Fc1b1c5d34060481c8a16cff78e8e80fc.jpeg)
- 当今时代压力成为人们社交活动中经常挂在嘴边的话题，360行，各有各的不容易，生而为人，处境有万千，却逃不开压力二字。
1. 还记得初上大学时，身边的同学都在说要转专业。于是纷纷去打听其他专业的情况，没想到其实很多人都想转专业，因为每个领域都像是自己触摸不到的深渊，让人望而生畏。
2. 放假回家，爸爸妈妈除了给你做很多好吃的，还会跟你聊聊天，谈谈你的学业，说说你的感情，这也没什么，最怕攀比，跟你表哥比事业，跟你表姐比爱情，这一听就让人难顶。
3. 临近期末，老师的期末项目完成了吗，今天你熬夜了吗，论文写好了吗，参考文献有多少，查重率有多高，你想了解的烦恼，老师统统可以满足你。
4. 情窦初开，好不容易谈了个恋爱，可是对方是个好大的学霸，自己迎头怎么都赶不上，他为什么会看上我？我又是怎么会喜欢他？是它的颜值还是他的才华？

# 关于压力我想做什么
![image](https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3282041675,1105267918&fm=26&gp=0.jpg)
- 我想问问领居家的小孩是不是也这样，我想找找心理平衡一下。与网络与新媒体专业的朋友一起做项目，运用17级学长们的知识在网络上搜索美国青少年在压力这个问题上的各方面数据，系统地了解一下，对于压力这件事，邻国的孩子是怎么想的。
- 既然压力这个东西这么普遍，那我们就来系统的认识一下，每个人都有一个集体感归属感，如果长时间的孤立无援是会抑郁的哦。

# 关于压力我知道了什么
![image](https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1597161788,3293975975&fm=26&gp=0.jpg)
1. 将数据进行清洗和整理，最终形成表格发现：美国青少年将近80%经常处于压力状态下，这与中国的情况应该是差不多的。
2. 青少年的压力来源主要有四个方面：按顺序排名是情侣>老师>父母>朋友，当然还有其他方面，但是这些就是主要的压力源
3. 美国的青少年在遭遇压力时最常见与朋友倾诉，其实是通过吃来缓解压力，也有些人觉得有压力的时候不需要采取任何措施，自然过渡就好，运动能产生多巴胺，所以有些人也会选择锻炼身体来缓解压力，还有少数的人喜欢用药物和酒精来缓解压力，这对青少年群体是比较危险的，容易产生依赖性，很有可能从此误入歧途。
4. 对于缓解压力，网络app也起到不错的作用，新时代网络用户普及，有许多问题都可以通过网络的方式解决，也有少部分的青少年会借助专业的治疗师，这也说明关于压力这个问题，我们已经开始重视起来，慢慢的将这个问题体系化解决。
## 项目协作
```
graph TD
    A[期末项目公布] -->B(通过相互能力策展组队)
    B --> C{达成项目合作}
    C -->|周滋娴| D[1.提供项目主题 2.数据清洗收集 3.完成交互界面]
    C -->|洪可凡 丘天惠| E[1.实现数据的页面间传输 2.部分项目文档写作 3.美化页面 3.协作Pythonanywhere部署]
   
```

# 产品定位
![image](https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1937035345,346669298&fm=26&gp=0.jpg)
1. 用户群体：适合所有压力人群，包括有学业压力的青少年学生群体，家中有青少年的家长，研究有关压力课题的专家学者，有关压力疏导方面的医疗工作者，还有相关解压产品的研发人员。皆可以将这个应用的数据作为参考使用。
2. 市场定位：随着网络时代的发展，生活中有许多琐碎的小问题可以通过网络应用来适当了解。压力问题是一个既普遍，又需要通过交互才能衡量的一个问题，本应用致力于解答人们对于压力的疑惑，首先是压力源，其次是如何缓解压力，通过图表的形式呈现数据，让用户了解压力问题的现状，有则改之，无则加勉。满足用户在网络上搜索和理解压力的市场需求。


# 项目成果
![image](https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=4233122803,2912666491&fm=26&gp=0.jpg)
-  [pythonanywhere部署成功](http://kehan.pythonanywhere.com/)
-  [github URL含readme.md文档](https://github.com/coco022/Python_final_project/)

## python档的描述
1. 通过使用jupyter notebook书写Python，利用就jupyter边书写边运行的功能，可以较为顺利的完成Python文档的书写。

2. 整个应用中调用了几个模块，分别是

- flask（实现Python代码的网页应用）
- pandas（Python用于数据导入及整理的模块）
- plotly（Python的在线绘图模块，功能强大）
- dash（构建基于Web的交互式应用程序所需的所有技术和协议）

3. 在app.py文件中使用pandas导入数据整理CSV，收集研究地区的经纬度，为下一步绘制地图做准备，将爬取的数据整理为六大导致压力的因素

![p1.png](https://i.loli.net/2020/01/05/SW6n2bvcEe7z85V.png)

4. 运用plotly模块将pandas整理好的数据内容绘制成多个

- ***折线图***
![p2.png](https://i.loli.net/2020/01/05/FEgBohf7LA3J6n8.png)

- ***扇形图***
![p3.png](https://i.loli.net/2020/01/05/uVRCb2zMlt3Nek6.png)

5. 设置条件筛选，实现数据交互
![p4.png](https://i.loli.net/2020/01/05/SsAd3DBy2uMNTw4.png)

6. 设置页面跳转，通过两个路由实现与用户之间的数据交互，通过用户的选择进行相应的数据筛选。此应用设置两个两个页面，url分别是：http://kehan.pythonanywhere.com/ & http://kehan.pythonanywhere.com/first 从主页面筛选数据，进入first页面，有四个不同的主题内容，全都在这两个页面实现。
![p5.png](https://i.loli.net/2020/01/05/PBr2OKT8bpaqEk7.png)

7. 通过数据结构转换（从集合转为列表），实现数据提取
![p6.png](https://i.loli.net/2020/01/05/1w7bd6WYRDx9tZy.png)

8. for循环：多个重复append是便于得出每个提取数字的重复次数
![p7.png](https://i.loli.net/2020/01/05/1lPi2OKdkbq3yBx.png)

9. 条件判断

![p8.png](https://i.loli.net/2020/01/05/KQ9wOqyoSGIDxER.png)

10.自定义函数：通过自定义函数实现代码重用，应用到接下去的几个扇形图绘制中

![p9.png](https://i.loli.net/2020/01/05/eiujwo8tI9kEZNh.png)

## html文档描述
1. 利用jinja2模板进行HTML文档书写，设置基模板base.html,之后的html文档分别继承基模板各自实现渲染效果。
![p13.png](https://i.loli.net/2020/01/05/PhSeE2nOsja7Qtx.png)
2. 运用已有的html5基础知识，在first.html中加入了轮播图，是整个页面环境更加舒适，以便让用户有更好的体验感。
![轮播图效果](https://i.loli.net/2020/01/05/ERBWvIPqF9OjGw2.png)
3. 通过连接在stastic文件夹中的css样式，实现页面总体美化效果
4. 页面完善阶段检查符号错误，以实现不同标题的加粗字号大小。

## Web APP动作描述
- 通过页面下拉选择可以挑选关于压力大不同问题，根据用户的个人偏好选择主体，点击“do it！”，可以跳转到另外一个页面查看主题内容。
- 将鼠标放置扇形图可查看各要素的百分比，通过滚动鼠标可以放大和缩小地图，通过点击开关可以看到波动折线图。
### tips
1. 发现一个运行时的代码小错误（UserWarning:
This pattern has match groups. To actually get the groups, use str.extract.）
原因是str.contains()不直接支持对象里边的括号，因为括号是正则表达式之一。项目合作时其他成员没有出现这一问题，可能因人而异，如果遇到需要对代码进行小小的修改。
![p11.jpg](https://i.loli.net/2020/01/05/iZqheFptEnPK2zf.jpg)
![p11.jpg](https://i.loli.net/2020/01/05/dlzZ584MDN1gqwX.jpg)
2. 在项目运行中遇到文件不存在的问题（FileNotFoundError: [Errno 2] File b'./mental.csv' does not exist: b'./mental.csv'）
![p14.png](https://i.loli.net/2020/01/05/bDlLaenikYr7SBm.png)
解决方案是删掉上一级的目录，for example：原有的路径./pressure_plotly/mental.csv/
改为./mental.csv/
